= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f|
  %fieldset
    %h2
      Edit #{resource_name.to_s.humanize}
  = devise_error_messages!
  %fieldset.oneline
    .name
      = f.label :email
    .medium-field
      = f.text_field :email
  %fieldset.oneline
    .name
      = f.label :password
    .medium-field
      = f.password_field :password
    .note leave blank if you don't want to change it
  %fieldset.oneline
    .name
      = f.label :password_confirmation, 'Confirm'
    .medium-field
      = f.password_field :password_confirmation
  %fieldset.oneline
    .name
      = f.label :current_password
    .medium-field
      = f.password_field :current_password
    .note enter current password to confirm changes
  %fieldset.oneline
    .data= f.submit "Update"

.shared-links
  .links
    Or maybe you need to...
    %ul
      %li= link_to "cancel your account", registration_path(resource_name), :confirm => "Are you sure?", :method => :delete
